<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create General ANCOVA Model with Flexible Specifications — build_model_ancova • rctbayespower</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create General ANCOVA Model with Flexible Specifications — build_model_ancova"><meta name="description" content="Creates a build_model object for ANCOVA (Analysis of Covariance) with flexible
specifications for number of arms, contrasts, allocation ratios, and parameters.
This is the general function that underlies all ANCOVA model variants in the package."><meta property="og:description" content="Creates a build_model object for ANCOVA (Analysis of Covariance) with flexible
specifications for number of arms, contrasts, allocation ratios, and parameters.
This is the general function that underlies all ANCOVA model variants in the package."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rctbayespower</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01-introduction.html">Getting Started with 'rctbayespower'</a></li>
    <li><a class="dropdown-item" href="../articles/02-prior-specification.html">Prior Specifications in 'rctbayespower'</a></li>
    <li><a class="dropdown-item" href="../articles/03-algorithm-performance.html">Comparative Algorithm Performance in 'rctbayespower'</a></li>
    <li><a class="dropdown-item" href="../articles/99-model-validation.html">Prior Specifications in 'rctbayespower'</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/matthiaskloft/rctbayespower/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create General ANCOVA Model with Flexible Specifications</h1>
      <small class="dont-index">Source: <a href="https://github.com/matthiaskloft/rctbayespower/blob/main/R/models_ancova.R" class="external-link"><code>R/models_ancova.R</code></a></small>
      <div class="d-none name"><code>build_model_ancova.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a build_model object for ANCOVA (Analysis of Covariance) with flexible
specifications for number of arms, contrasts, allocation ratios, and parameters.
This is the general function that underlies all ANCOVA model variants in the package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">build_model_ancova</span><span class="op">(</span></span>
<span>  prior_intercept <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior_sigma <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior_covariate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior_treatment <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  link_sigma <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>  n_arms <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  contrasts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  p_alloc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intercept <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  b_arm_treat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">b_covariate</span>,</span>
<span>  sigma <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-prior-intercept">prior_intercept<a class="anchor" aria-label="anchor" href="#arg-prior-intercept"></a></dt>
<dd><p>Prior for the intercept parameter. If NULL (default),
uses normal(0, 10). Must be a brmsprior object created with <code><a href="https://paulbuerkner.com/brms/reference/set_prior.html" class="external-link">brms::set_prior()</a></code>.</p></dd>


<dt id="arg-prior-sigma">prior_sigma<a class="anchor" aria-label="anchor" href="#arg-prior-sigma"></a></dt>
<dd><p>Prior for the residual standard deviation. If NULL (default),
uses normal(0, 10). Must be a brmsprior object created with <code><a href="https://paulbuerkner.com/brms/reference/set_prior.html" class="external-link">brms::set_prior()</a></code>.</p></dd>


<dt id="arg-prior-covariate">prior_covariate<a class="anchor" aria-label="anchor" href="#arg-prior-covariate"></a></dt>
<dd><p>Prior for the covariate effect. If NULL (default),
uses student_t(3, 0, 1). Must be a brmsprior object created with <code><a href="https://paulbuerkner.com/brms/reference/set_prior.html" class="external-link">brms::set_prior()</a></code>.</p></dd>


<dt id="arg-prior-treatment">prior_treatment<a class="anchor" aria-label="anchor" href="#arg-prior-treatment"></a></dt>
<dd><p>Prior for the treatment effect. If NULL (default),
uses student_t(3, 0, 1). Must be a brmsprior object created with <code><a href="https://paulbuerkner.com/brms/reference/set_prior.html" class="external-link">brms::set_prior()</a></code>.</p></dd>


<dt id="arg-link-sigma">link_sigma<a class="anchor" aria-label="anchor" href="#arg-link-sigma"></a></dt>
<dd><p>Link function for the residual standard deviation. Default is "identity".</p></dd>


<dt id="arg-n-arms">n_arms<a class="anchor" aria-label="anchor" href="#arg-n-arms"></a></dt>
<dd><p>Number of arms in the trial (must be &gt;= 2). Required parameter.</p></dd>


<dt id="arg-contrasts">contrasts<a class="anchor" aria-label="anchor" href="#arg-contrasts"></a></dt>
<dd><p>Contrast method for treatment arms. Either a character string
(e.g., "contr.treatment", "contr.sum") or a contrast matrix. Required parameter.</p></dd>


<dt id="arg-p-alloc">p_alloc<a class="anchor" aria-label="anchor" href="#arg-p-alloc"></a></dt>
<dd><p>Numeric vector of allocation probabilities summing to 1.
Length must equal n_arms. Required parameter.</p></dd>


<dt id="arg-intercept">intercept<a class="anchor" aria-label="anchor" href="#arg-intercept"></a></dt>
<dd><p>Intercept value for data generation. Required parameter.</p></dd>


<dt id="arg-b-arm-treat">b_arm_treat<a class="anchor" aria-label="anchor" href="#arg-b-arm-treat"></a></dt>
<dd><p>Treatment effect coefficients for data generation.
Vector length must equal n_arms - 1. Required parameter.</p></dd>


<dt id="arg-b-covariate">b_covariate<a class="anchor" aria-label="anchor" href="#arg-b-covariate"></a></dt>
<dd><p>Covariate effect coefficient for data generation. Required parameter.</p></dd>


<dt id="arg-sigma">sigma<a class="anchor" aria-label="anchor" href="#arg-sigma"></a></dt>
<dd><p>Residual standard deviation for data generation (must be &gt; 0). Required parameter.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An S7 object of class "rctbp_model_ancova" ready for use with
<code><a href="build_design.html">build_design()</a></code> and power analysis functions.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function creates a complete ANCOVA model with the following structure:</p>
<p><strong>Model Formula:</strong> outcome ~ 1 + covariate + arm</p>
<p><strong>Data Structure:</strong> The generated data includes:</p><ul><li><p>covariate: Standardized normal covariate</p></li>
<li><p>arm: Factor with levels "ctrl" and treatment arms ("treat_1", "treat_2", etc.)</p></li>
<li><p>outcome: Continuous outcome generated from the linear model</p></li>
</ul><p><strong>Parameters:</strong> The model includes parameters for intercept, covariate effect,
treatment effects, and residual standard deviation (sigma).</p>
<p><strong>Model Compilation:</strong> The function compiles the brms model during creation,
which may take some time but enables efficient power analysis later.</p>
<p><strong>Convenience Functions:</strong> For common use cases, consider the wrapper functions that can be called via the 'predefined_model' argument in <code><a href="build_model.html">build_model()</a></code>:</p><ul><li><p><code><a href="build_model_ancova_cont_2arms.html">build_model_ancova_cont_2arms()</a></code> - 2-arm continuous ANCOVA</p></li>
<li><p><code><a href="build_model_ancova_cont_3arms.html">build_model_ancova_cont_3arms()</a></code> - 3-arm continuous ANCOVA</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="build_model.html">build_model()</a></code>, <code><a href="build_design.html">build_design()</a></code>, <code><a href="build_model_ancova_cont_2arms.html">build_model_ancova_cont_2arms()</a></code>,
<code><a href="build_model_ancova_cont_3arms.html">build_model_ancova_cont_3arms()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Create 2-arm ANCOVA model</span></span></span>
<span class="r-in"><span><span class="va">model_2arm</span> <span class="op">&lt;-</span> <span class="fu">build_model_ancova</span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_arms <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  contrasts <span class="op">=</span> <span class="st">"contr.treatment"</span>,</span></span>
<span class="r-in"><span>  p_alloc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  intercept <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  b_arm_treat <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  b_covariate <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  sigma <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthias Kloft.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

