<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Constructor for rctbp_design Objects — build_design • rctbayespower</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Constructor for rctbp_design Objects — build_design"><meta name="description" content="Creates an S7 rctbp_design object that combines a rctbp_model with analysis
configuration parameters for Bayesian power analysis. This constructor function
provides a user-friendly interface to the S7 class constructor."><meta property="og:description" content="Creates an S7 rctbp_design object that combines a rctbp_model with analysis
configuration parameters for Bayesian power analysis. This constructor function
provides a user-friendly interface to the S7 class constructor."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rctbayespower</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01-introduction.html">Getting Started with 'rctbayespower'</a></li>
    <li><a class="dropdown-item" href="../articles/src/01-introduction.html">Getting Started with 'rctbayespower'</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/matthiaskloft/rctbayespower/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Constructor for rctbp_design Objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/matthiaskloft/rctbayespower/blob/main/R/class_design.R" class="external-link"><code>R/class_design.R</code></a></small>
      <div class="d-none name"><code>build_design.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates an S7 rctbp_design object that combines a rctbp_model with analysis
configuration parameters for Bayesian power analysis. This constructor function
provides a user-friendly interface to the S7 class constructor.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">build_design</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">target_params</span>,</span>
<span>  <span class="va">thresholds_success</span>,</span>
<span>  <span class="va">thresholds_futility</span>,</span>
<span>  <span class="va">p_sig_success</span>,</span>
<span>  <span class="va">p_sig_futility</span>,</span>
<span>  n_interim_analyses <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  interim_function <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  design_name <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>An S7 object of class "rctbp_model" created by <code><a href="build_model.html">build_model()</a></code></p></dd>


<dt id="arg-target-params">target_params<a class="anchor" aria-label="anchor" href="#arg-target-params"></a></dt>
<dd><p>Character vector specifying which model parameters to
analyze for power. Must be valid parameter names from the brms model
(e.g., "b_arms_treat" for treatment effect). Required.</p></dd>


<dt id="arg-thresholds-success">thresholds_success<a class="anchor" aria-label="anchor" href="#arg-thresholds-success"></a></dt>
<dd><p>Numeric vector of success thresholds for each target
parameter. Length must match target_params. These represent the minimum
clinically meaningful effect sizes. Required.</p></dd>


<dt id="arg-thresholds-futility">thresholds_futility<a class="anchor" aria-label="anchor" href="#arg-thresholds-futility"></a></dt>
<dd><p>Numeric vector of futility thresholds for each target
parameter. Length must match target_params. These represent effect sizes
below which the treatment is considered ineffective. Required.</p></dd>


<dt id="arg-p-sig-success">p_sig_success<a class="anchor" aria-label="anchor" href="#arg-p-sig-success"></a></dt>
<dd><p>Probability threshold for declaring success. The posterior
probability that the effect exceeds the success threshold must be greater
than this value to declare success (typically 0.975 or 0.95). Required.</p></dd>


<dt id="arg-p-sig-futility">p_sig_futility<a class="anchor" aria-label="anchor" href="#arg-p-sig-futility"></a></dt>
<dd><p>Probability threshold for declaring futility. The posterior
probability that the effect is below the futility threshold must be greater
than this value to declare futility (typically 0.5). Required.</p></dd>


<dt id="arg-n-interim-analyses">n_interim_analyses<a class="anchor" aria-label="anchor" href="#arg-n-interim-analyses"></a></dt>
<dd><p>Number of interim analyses planned during the study.
Defaults to 0 for studies with only final analysis. Must be non-negative integer.</p></dd>


<dt id="arg-interim-function">interim_function<a class="anchor" aria-label="anchor" href="#arg-interim-function"></a></dt>
<dd><p>Optional function for adaptive interim analyses. If provided,
must accept an interim_parameters argument defined as a call to list().
Currently not fully implemented. Defaults to NULL.</p></dd>


<dt id="arg-design-name">design_name<a class="anchor" aria-label="anchor" href="#arg-design-name"></a></dt>
<dd><p>Optional character string providing a descriptive name for the
design. Defaults to NULL.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An S7 object of class "rctbp_design" containing all elements from
the model plus the analysis configuration. Key components include:</p><dl><dt>data_simulation_fn</dt>
<dd><p>Data simulation function from the model</p></dd>

<dt>brms_model</dt>
<dd><p>Compiled brms model template</p></dd>

<dt>target_params</dt>
<dd><p>Target parameters for analysis</p></dd>

<dt>thresholds_success</dt>
<dd><p>Success thresholds</p></dd>

<dt>thresholds_futility</dt>
<dd><p>Futility thresholds</p></dd>

<dt>p_sig_success</dt>
<dd><p>Success probability threshold</p></dd>

<dt>p_sig_futility</dt>
<dd><p>Futility probability threshold</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The rctbp_design class combines model specifications with analysis
decision criteria:</p>
<p><strong>Model Integration:</strong> Inherits the data simulation function, compiled brms
model, and metadata from the model object.</p>
<p><strong>Decision Thresholds:</strong> Success and futility thresholds define the
regions of practical equivalence (ROPE) for decision making. Effects above
the success threshold are considered clinically meaningful, while effects
below the futility threshold suggest treatment ineffectiveness.</p>
<p><strong>Probability Thresholds:</strong> The p_sig_success and p_sig_futility parameters
control the certainty required for decisions. Higher values require stronger
evidence.</p>
<p><strong>Validation:</strong> All parameters are validated for consistency with the
underlying model structure and each other.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="build_model.html">build_model()</a></code>, <code><a href="simulate_single_run.html">simulate_single_run()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Create an ANCOVA model</span></span></span>
<span class="r-in"><span><span class="va">ancova_model</span> <span class="op">&lt;-</span> <span class="fu">build_model_ancova_cont</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a design for analyzing treatment effect</span></span></span>
<span class="r-in"><span><span class="va">my_design</span> <span class="op">&lt;-</span> <span class="fu">build_design</span><span class="op">(</span></span></span>
<span class="r-in"><span>  model <span class="op">=</span> <span class="va">ancova_model</span>,</span></span>
<span class="r-in"><span>  target_params <span class="op">=</span> <span class="st">"b_arms_treat"</span>,</span></span>
<span class="r-in"><span>  n_interim_analyses <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  thresholds_success <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  thresholds_futility <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  p_sig_success <span class="op">=</span> <span class="fl">0.975</span>,</span></span>
<span class="r-in"><span>  p_sig_futility <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  design_name <span class="op">=</span> <span class="st">"ANCOVA Treatment Effect Analysis"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthias Kloft.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

