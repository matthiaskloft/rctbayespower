<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Power Measures from brms Model Fit — compute_measures_brmsfit • rctbayespower</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Power Measures from brms Model Fit — compute_measures_brmsfit"><meta name="description" content="This function extracts posterior samples from a fitted brms model and computes
various power analysis measures including success/futility probabilities,
significance indicators, parameter estimates, and convergence diagnostics.
For multiple target parameters, it also computes combined (union) measures."><meta property="og:description" content="This function extracts posterior samples from a fitted brms model and computes
various power analysis measures including success/futility probabilities,
significance indicators, parameter estimates, and convergence diagnostics.
For multiple target parameters, it also computes combined (union) measures."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rctbayespower</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01-introduction.html">Getting Started with 'rctbayespower'</a></li>
    <li><a class="dropdown-item" href="../articles/02-prior-specification.html">Prior Specifications in 'rctbayespower'</a></li>
    <li><a class="dropdown-item" href="../articles/03-algorithm-performance.html">Comparative Algorithm Performance in 'rctbayespower'</a></li>
    <li><a class="dropdown-item" href="../articles/99-model-validation.html">Model Validation for Predefined Models in 'rctbayespower'</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/matthiaskloft/rctbayespower/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute Power Measures from brms Model Fit</h1>
      <small class="dont-index">Source: <a href="https://github.com/matthiaskloft/rctbayespower/blob/main/R/compute_measures.R" class="external-link"><code>R/compute_measures.R</code></a></small>
      <div class="d-none name"><code>compute_measures_brmsfit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function extracts posterior samples from a fitted brms model and computes
various power analysis measures including success/futility probabilities,
significance indicators, parameter estimates, and convergence diagnostics.
For multiple target parameters, it also computes combined (union) measures.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_measures_brmsfit</span><span class="op">(</span><span class="va">brmsfit</span>, <span class="va">design</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-brmsfit">brmsfit<a class="anchor" aria-label="anchor" href="#arg-brmsfit"></a></dt>
<dd><p>A fitted brms model object containing posterior samples</p></dd>


<dt id="arg-design">design<a class="anchor" aria-label="anchor" href="#arg-design"></a></dt>
<dd><p>A list containing the experimental design specification with the following components:</p><ul><li><p><code>target_params</code>: Character vector of parameter names to analyze</p></li>
<li><p><code>thresholds_success</code>: Numeric vector of success thresholds for each parameter</p></li>
<li><p><code>thresholds_futility</code>: Numeric vector of futility thresholds for each parameter</p></li>
<li><p><code>p_sig_success</code>: Probability threshold for declaring success significance</p></li>
<li><p><code>p_sig_futility</code>: Probability threshold for declaring futility significance</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame containing power analysis measures with the following columns:</p><ul><li><p><code>parameter</code>: Parameter name or "union" for combined measures</p></li>
<li><p><code>threshold_success</code>: Success threshold used for the parameter</p></li>
<li><p><code>threshold_futility</code>: Futility threshold used for the parameter</p></li>
<li><p><code>success_prob</code>: Probability that parameter exceeds success threshold</p></li>
<li><p><code>futility_prob</code>: Probability that parameter falls below futility threshold</p></li>
<li><p><code>power_success</code>: Binary indicator (1/0) if success probability meets significance threshold</p></li>
<li><p><code>power_futility</code>: Binary indicator (1/0) if futility probability meets significance threshold</p></li>
<li><p><code>median</code>: Posterior median estimate of the parameter</p></li>
<li><p><code>mad</code>: Posterior median absolute deviation of the parameter</p></li>
<li><p><code>mean</code>: Posterior mean estimate of the parameter</p></li>
<li><p><code>sd</code>: Posterior standard deviation of the parameter</p></li>
<li><p><code>rhat</code>: R-hat convergence diagnostic</p></li>
<li><p><code>ess_bulk</code>: Effective sample size for bulk estimates</p></li>
<li><p><code>ess_tail</code>: Effective sample size for tail estimates</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For single parameters, the function computes individual measures. For multiple target
parameters, it additionally computes combined (union) measures where success requires
ALL parameters to exceed their respective success thresholds simultaneously, and
futility requires ALL parameters to fall below their respective futility thresholds.</p>
<p>If threshold vectors are shorter than the number of target parameters, the first
threshold value is recycled for additional parameters.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Assume you have a fitted brms model and design specification</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  target_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b_arms_treat"</span>, <span class="st">"b_Intercept"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  thresholds_success <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  thresholds_futility <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">0.0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  p_sig_success <span class="op">=</span> <span class="fl">0.975</span>,</span></span>
<span class="r-in"><span>  p_sig_futility <span class="op">=</span> <span class="fl">0.95</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">measures</span> <span class="op">&lt;-</span> <span class="fu">compute_measures_brmsfit</span><span class="op">(</span><span class="va">fitted_model</span>, <span class="va">design</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthias Kloft.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

