% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/class_model.R
\name{build_model}
\alias{build_model}
\title{Build a Custom Model}
\usage{
build_model(
  sim_fn = NULL,
  inference_model = NULL,
  backend = c("brms", "bf"),
  backend_args_brms = list(),
  backend_args_bf = list(batch_size = NULL, n_posterior_samples = 1000L, envname = NULL),
  n_endpoints = NULL,
  endpoint_types = NULL,
  n_arms = NULL,
  n_repeated_measures = NULL,
  model_name = NULL
)
}
\arguments{
\item{sim_fn}{A function that simulates trial data. Must accept parameters
\code{n_total} and \code{p_alloc} at minimum.}

\item{inference_model}{A brmsfit object (for brms backend) or BayesFlow model
(for bf backend).}

\item{backend}{Which backend to use: "brms" (default) or "bf".}

\item{backend_args_brms}{List of brms-specific arguments (chains, iter, etc.)}

\item{backend_args_bf}{List of BayesFlow-specific arguments:
\describe{
\item{batch_size}{Batch size for inference (default: NULL, uses n_sims)}
\item{n_posterior_samples}{Number of posterior samples (default: 1000)}
\item{envname}{Python virtual environment name to use (default: NULL for auto-detect)}
}}

\item{n_endpoints}{Number of endpoints (positive integer)}

\item{endpoint_types}{Character vector of endpoint types ("continuous", "binary", "count")}

\item{n_arms}{Number of arms including control (positive integer)}

\item{n_repeated_measures}{Number of repeated measures (NULL or 0 for single timepoint)}

\item{model_name}{Descriptive name for the model}
}
\value{
An S7 object of class "rctbp_model"
}
\description{
Creates a custom rctbp_model from user-supplied components. For most users,
\code{\link[=get_model]{get_model()}} with predefined models is recommended instead.
}
\examples{
\dontrun{
# Create custom model with brms backend
model <- build_model(
  sim_fn = my_sim_function,
  inference_model = my_compiled_brms,
  backend = "brms",
  n_endpoints = 1,
  endpoint_types = "continuous",
  n_arms = 2
)
}
}
\seealso{
\code{\link[=get_model]{get_model()}} for predefined models
}
