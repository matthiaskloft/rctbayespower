% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/class_power_analysis.R
\name{power_analysis}
\alias{power_analysis}
\title{Build Power Analysis Configuration}
\usage{
power_analysis(conditions, ..., run = TRUE)
}
\arguments{
\item{conditions}{An rctbp_conditions object containing the experimental
conditions and design parameters for the power analysis. Created by
\code{\link[=build_conditions]{build_conditions()}}.}

\item{...}{Additional arguments passed to the rctbp_power_analysis constructor:
\describe{
\item{n_sims}{Number of simulations to run per condition (default 100)}
\item{n_cores}{Number of CPU cores for parallel execution (default 1)}
\item{verbosity}{Output detail level: 0 (quiet), 1 (normal), 2 (verbose)}
\item{brms_args}{List of brms arguments (chains, iter, warmup, cores)}
\item{bf_args}{List of BayesFlow arguments:
\itemize{
\item n_posterior_samples: Number of posterior samples (default: 1000)
\item batch_size: Batch size for inference (default: n_sims)
\item envname: Python virtual environment name (default: NULL for auto-detect)
}
}
\item{design_prior}{Prior specification (NULL, brms syntax string, or function)}
}}

\item{run}{Logical indicating whether to immediately execute the analysis
(default TRUE). Set to FALSE to create configuration for later execution.}
}
\value{
An S7 object of class "rctbp_power_analysis" containing:
\itemize{
\item All input parameters for simulation control
\item Access to design and model specifications via properties
\item Placeholder slots for results (filled after running analysis)
}
}
\description{
Creates a power analysis configuration object that specifies all parameters
needed to conduct Bayesian power analysis for randomized controlled trials.
This function creates an S7 object that serves as the main interface for
configuring and executing power analysis simulations.
}
\details{
This function validates input parameters and creates a configuration object
that can be executed using \code{\link[=run]{run()}}. The resulting object provides access
to design and model information through S7 properties:

\strong{Key Properties:}
\itemize{
\item \code{design}: Access to the experimental design configuration
\item \code{model}: Access to the underlying Bayesian model specification
\item \code{conditions}: The condition grid for analysis
}

\strong{Parallel Processing:}
When \code{n_cores > 1}, simulations are distributed across multiple cores
for improved performance. The function validates that \code{n_cores} does
not exceed available system cores.
}
\examples{
\dontrun{
# Create conditions for power analysis
conditions <- build_conditions(design, n_total = c(100, 200))

# Basic power analysis (brms backend)
result <- power_analysis(conditions, n_sims = 100)

# With custom brms arguments
result <- power_analysis(
  conditions,
  n_sims = 1000,
  n_cores = 4,
  brms_args = list(chains = 4, iter = 2000)
)

# BayesFlow backend with custom settings
result <- power_analysis(
  conditions,
  n_sims = 1000,
  bf_args = list(n_posterior_samples = 2000, batch_size = 128)
)

# Create without running (for inspection)
config <- power_analysis(conditions, n_sims = 100, run = FALSE)
config <- run(config)  # Execute later
}
}
\seealso{
\code{\link[=build_conditions]{build_conditions()}}, \code{\link[=build_design]{build_design()}}, \code{\link[=build_model]{build_model()}}, \code{\link[=run]{run()}}
}
