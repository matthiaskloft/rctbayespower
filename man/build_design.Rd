% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/class_design.R
\name{build_design}
\alias{build_design}
\title{Constructor for rctbp_design Objects}
\usage{
build_design(
  model,
  target_params,
  p_sig_success,
  p_sig_futility,
  design_name = NULL
)
}
\arguments{
\item{model}{An S7 object of class "rctbp_model" created by \code{\link[=build_model]{build_model()}}}

\item{target_params}{Character vector specifying which model parameters to
analyze for power. Must be valid parameter names from the brms model
(e.g., "b_arms_treat" for treatment effect). Required.}

\item{p_sig_success}{Probability threshold for declaring success. The posterior
probability that the effect exceeds the success threshold must be greater
than this value to declare success (typically 0.975 or 0.95). Required.}

\item{p_sig_futility}{Probability threshold for declaring futility. The posterior
probability that the effect is below the futility threshold must be greater
than this value to declare futility (typically 0.5). Required.}

\item{design_name}{Optional character string providing a descriptive name for the
design. Defaults to NULL.}
}
\value{
An S7 object of class "rctbp_design" containing:
\describe{
\item{model}{The rctbp_model object}
\item{target_params}{Target parameters for analysis}
\item{p_sig_success}{Success probability threshold}
\item{p_sig_futility}{Futility probability threshold}
\item{design_name}{Optional descriptive name}
}
}
\description{
Creates an S7 rctbp_design object that combines a rctbp_model with analysis
configuration parameters for Bayesian power analysis. This constructor function
provides a user-friendly interface to the S7 class constructor.
}
\details{
The rctbp_design class combines model specifications with global analysis
configuration parameters. It defines WHICH parameters to analyze and WHAT
probability thresholds to use for decision-making.

\strong{Important:} The actual success and futility thresholds (e.g., 0.2 for
treatment effect) are NOT stored in the design object. They are specified
per-condition when creating the conditions object using build_conditions().
The design only stores the probability thresholds (p_sig_success, p_sig_futility)
that determine how certain we need to be about exceeding those thresholds.

\strong{Model Integration:} Links to the rctbp_model object containing data
simulation function and compiled brms model.

\strong{Target Parameters:} Specifies which model parameters to analyze for power
(e.g., "b_arms_treat" for treatment effect).

\strong{Probability Thresholds:} The p_sig_success and p_sig_futility parameters
control the certainty required for success/futility decisions. Higher values require
stronger evidence.

\strong{Validation:} All parameters are validated for consistency with the
underlying model structure.
}
\examples{
\dontrun{
# Create an ANCOVA model
ancova_model <- build_model("ancova_cont_2arms")

# Create a design for analyzing treatment effect
my_design <- build_design(
  model = ancova_model,
  target_params = "b_arms_treat",
  p_sig_success = 0.975,
  p_sig_futility = 0.5,
  design_name = "ANCOVA Treatment Effect Analysis"
)
}
}
\seealso{
\code{\link[=build_model]{build_model()}}, \code{\link[=simulate_single_run]{simulate_single_run()}}
}
