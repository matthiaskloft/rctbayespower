% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/power_analysis_functions_templates.r
\name{power_analysis_brms}
\alias{power_analysis_brms}
\title{Bayesian Power Analysis for RCT Models}
\usage{
power_analysis_brms(
  conditions,
  t_endpoint,
  threshold,
  n_sims = 200L,
  n_cores = parallel::detectCores() - 1L,
  prior_spec = NULL,
  success_threshold = 0.8,
  verbose = TRUE,
  ...
)
}
\arguments{
\item{conditions}{Named list of parameter combinations to test. Must include:
\describe{
\item{n_subjects}{Total number of subjects}
\item{n_timepoints}{Number of time measurements (including baseline)}
\item{time_effects}{Numeric vector of main time effects (length = n_timepoints, first element = baseline, typically 0)}
\item{group_time_effects}{Numeric vector of group√ótime interaction effects (length = n_timepoints, first element = baseline, typically 0)}
\item{allocation_ratio}{Proportion assigned to treatment group (default 0.5)}
\item{sigma}{Residual standard deviation (default 1)}
\item{baseline_mean}{Baseline outcome mean (default 0)}
}}

\item{t_endpoint}{Integer timepoint number for the target interaction effect (1 to n_timepoints-1)}

\item{threshold}{Numeric threshold value for probability of success}

\item{n_sims}{Integer number of simulation repetitions (default 200)}

\item{n_cores}{Integer number of cores for parallel processing (default: detectCores() - 1)}

\item{prior_spec}{Optional brms prior specification. If NULL, uses student_t(3, 0, 2) priors}

\item{success_threshold}{Numeric posterior probability threshold for declaring success (default 0.8)}

\item{verbose}{Logical indicating whether to print progress messages (default TRUE)}

\item{...}{Additional arguments passed to \code{\link[brms]{brm}}}
}
\value{
List containing:
\describe{
\item{power}{Estimated statistical power}
\item{n_successful_sims}{Number of successful simulations}
\item{mean_posterior_prob}{Mean posterior probability across simulations}
\item{se_power}{Standard error of power estimate}
}
}
\description{
Performs simulation-based power analysis for longitudinal RCT models using
Bayesian mixed-effects modeling with brms.
}
\details{
The function generates longitudinal RCT data and fits Bayesian mixed-effects
models using the formula: y ~ t_0 + t_1 + ... + t_(T-1) + t_1:group + ... + t_(T-1):group + (1|subject_id)
Note that t_0 (baseline) has no group interaction. The t_endpoint parameter specifies which
post-baseline timepoint's interaction effect to test (e.g., t_endpoint = 3 tests b_t_3:group).
}
\examples{
\donttest{
# Basic example with 4 timepoints
conditions <- list(
  n_subjects = 100,
  n_timepoints = 4,
  time_effects = c(0, 0.2, 0.4, 0.6),
  group_time_effects = c(0, 0.1, 0.3, 0.5),
  allocation_ratio = 0.5,
  sigma = 1
)

result <- power_analysis_brms(
  conditions = conditions,
  t_endpoint = 3,
  threshold = 0.2,
  n_sims = 10
)

# Example with custom priors
custom_priors <- brms::prior(normal(0, 1), class = "b") +
                 brms::prior(normal(0, 1), class = "Intercept")

result_custom <- power_analysis_brms(
  conditions = conditions,
  t_endpoint = 3,
  threshold = 0.2,
  n_sims = 10,
  prior_spec = custom_priors
)
}

}
